<mat-sidenav-container>
    <mat-sidenav #sidenav mode="side" [(opened)]="opened">
        
            <mat-form-field *ngIf="(allMatches$ | async)?.length > 0">
                <mat-select placeholder="Select game" [(value)]="currentMatch" (ngModelChange)="onGameChanged()">
                    <mat-option *ngFor="let game of allMatches" [value]="game">
                    {{ game.properties.matchName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
                
            <div style="color: black; padding-left: 3px" *ngIf="currentMatch">
                <strong>Information</strong>
                <p>{{currentMatch.properties.year}} {{currentMatch.properties.matchName}}</p>
                <p>{{currentMatch.properties.homeTeam}} vs {{currentMatch.properties.awayTeam}}</p>
            </div>

            <button mat-fab 
                matTooltip="New Game" matTooltipPosition="right" 
                (click)="newGame()"> <mat-icon>add</mat-icon> </button>

    </mat-sidenav>
    <mat-sidenav-content>
            <button mat-button (click)="sidenav.toggle()" *ngIf="(allMatches$ | async)?.length > 0">
                 <mat-icon>slideshow</mat-icon> </button>
            <div *ngIf="currentMatch">
                <div class="container-fluid">
                    <div class="row">
                        <azure-media-player [source]="currentMatch.media"></azure-media-player>    
                        <code-buttons [buttons]="currentMatch.buttonConfiguration"></code-buttons>
                    </div>
                </div>
                <timeline2 [eventItems]="currentMatch.events"></timeline2>
            </div>
            

    </mat-sidenav-content>
</mat-sidenav-container>

<!-- <hr />

<pre>
    {{currentMatch | json}}
</pre> -->

<!-- <div class="row" *ngIf="false">
    <media-player-controls 
        (onplay)="onPlay($event)"
        (onpause)="onPause($event)"
        (onreset)="onReset($event)"></media-player-controls>
</div> -->
